{"version":3,"sources":["webpack:///src/app/signup/signup-routing.module.ts","webpack:///src/app/signup/signup.module.ts","webpack:///src/app/signup/signup.page.ts","webpack:///src/app/signup/signup.page.scss","webpack:///src/app/signup/signup.page.html"],"names":["routes","path","component","SignupPage","SignupPageRoutingModule","NgModule","imports","RouterModule","exports","SignupPageModule","CommonModule","FormsModule","IonicModule","ComponentsModule","declarations","afs","fireAuth","loadingCtrl","toastr","router","storageService","userService","name","email","password","create","message","spinner","showBackdrop","loading","present","createUserWithEmailAndPassword","then","resp","collection","doc","user","uid","set","Date","now","sendEmailVerification","dismiss","addData","key","USER_NAME","value","toast","navigate","error","theUser","addUserData","confirmPassword","passwordMatch","status","position","color","duration","AngularFirestore","AngularFireAuth","LoadingController","ToastController","Router","StorageService","UserService","Component","selector","template"],"mappings":"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","file":"src_app_signup_signup_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPageRoutingModule } from './signup-routing.module';\n\nimport { SignupPage } from './signup.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    SignupPageRoutingModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore, AngularFirestoreModule } from '@angular/fire/compat/firestore';\nimport { Router } from '@angular/router';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { StorageService } from '../services/storage.service';\nimport { USER_NAME } from 'src/app/guards/auth.guard';\nimport { UserModel } from '../models/userModel';\nimport { UserService } from '../services/user.service';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\n  name: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  user: UserModel;\n  passwordMatch: boolean;\n\n  constructor(\n    private afs: AngularFirestore,\n    private fireAuth: AngularFireAuth,\n    private loadingCtrl: LoadingController,\n    private toastr: ToastController,\n    private router: Router,\n    private storageService: StorageService,\n    private userService: UserService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async signup(){\n    if (this.name && this.email && this.password) {\n      const loading = await this.loadingCtrl.create({\n        message: 'Loading...',\n        spinner: 'crescent',\n        showBackdrop: true\n      });\n\n      loading.present();\n\n      this.fireAuth.createUserWithEmailAndPassword(this.email, this.password).then((resp) => {\n\n        this.afs.collection('users').doc(resp.user.uid).set({\n          'userId': resp.user.uid,\n          'name': this.name,\n          'email': this.email,\n          'createdAt': Date.now()\n        });\n        \n          resp.user.sendEmailVerification();\n        }).then(() => {\n          loading.dismiss();\n          this.storageService.addData({key: USER_NAME, value: `${this.name}`}, USER_NAME);\n          this.toast('Usuario registrado correctamente!', 'success');\n          this.router.navigate(['/login']);\n        })\n        .catch((error) => {\n          loading.dismiss();\n          this.toast(error.message, 'danger');\n        });\n      } else {\n        this.toast('Favor completar los campos!', 'danger');\n      }\n  }//end of signup\n\n  async addUserData(theUser: UserModel){\n    await this.userService.addUserData(theUser);\n  }\n\n  checkPassword() {\n    if(this.password == this.confirmPassword) {\n      this.passwordMatch = true;\n    } else {\n      this.passwordMatch = false;\n    }\n  }\n\n  async toast(message, status) {\n    const toast = await this.toastr.create({\n      message: message,\n      position: 'top',\n      color: status,\n      duration: 2000\n    });\n\n    toast.present();\n  }//end of toast\n\n  loginPage() {\n    this.router.navigate(['/login']);\n  }\n}\n","export default \"ion-content {\\n  position: absolute;\\n  text-align: center;\\n}\\n\\nion-grid {\\n  width: 100%;\\n}\\n\\n.welcome-msg {\\n  position: relative;\\n  text-align: left;\\n  font-size: 30px;\\n}\\n\\n.button-action {\\n  position: relative;\\n  text-align: left;\\n}\\n\\n.perfile-pic {\\n  width: 36px;\\n  height: 36px;\\n  border-radius: 50%;\\n  background-color: #FECE2F;\\n  float: right;\\n  right: 5%;\\n}\\n\\nion-item {\\n  position: relative;\\n  width: 90%;\\n  padding-top: 5%;\\n}\\n\\n.arrow-btn {\\n  float: right;\\n  margin: 25px;\\n}\\n\\nion-row {\\n  display: block;\\n  margin: auto;\\n  width: 50%;\\n}\\n\\n@media only screen and (max-width: 960px) {\\n  ion-row {\\n    display: inline;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQUVGOztBQUFBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQUdGOztBQUFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7QUFHRjs7QUFBQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGVBQUE7QUFHRjs7QUFBQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FBR0Y7O0FBQUE7RUFDRSxjQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7QUFHRjs7QUFBQTtFQUNFO0lBQ0UsZUFBQTtFQUdGO0FBQ0YiLCJmaWxlIjoic2lnbnVwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50e1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWdyaWR7XG4gIHdpZHRoOiAxMDAlO1xufVxuLndlbGNvbWUtbXNne1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGZvbnQtc2l6ZTogMzBweDtcbn1cbi5idXR0b24tYWN0aW9ue1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbi5wZXJmaWxlLXBpY3tcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMzZweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiNGRUNFMkY7XG4gIGZsb2F0OiByaWdodDtcbiAgcmlnaHQ6IDUlO1xufVxuXG5pb24taXRlbXtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogOTAlO1xuICBwYWRkaW5nLXRvcDogNSU7XG59XG5cbi5hcnJvdy1idG57XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luOiAyNXB4O1xufVxuXG5pb24tcm93e1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiBhdXRvO1xuICB3aWR0aDogNTAlO1xufVxuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk2MHB4KSB7XG4gIGlvbi1yb3d7XG4gICAgZGlzcGxheTogaW5saW5lO1xuICB9XG59XG5cbiJdfQ== */\";","export default \"<ion-content class=\\\"ion-padding\\\">\\n        <ion-grid>\\n          <ion-row >\\n            <ion-col size=\\\"auto\\\">\\n              <div class=\\\"button-action\\\">\\n                <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" size=\\\"small\\\" (click)=\\\"loginPage()\\\">\\n                  <b><p>Login</p></b>\\n                </ion-button>\\n                <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" size=\\\"small\\\" >\\n                  <b><p>Regístrate</p></b>\\n                </ion-button>\\n                <div class=\\\"perfile-pic\\\"></div>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"auto\\\">\\n              <ion-card-header class=\\\"welcome-msg\\\">\\n                <div>\\n                  <!-- class=\\\"welcome-msg\\\" -->\\n                  Hola <b>Usuario,</b> <br>\\n                  <small>Ingresa la información que se le pide en los campos debajo.</small>\\n                </div>\\n              </ion-card-header>\\n            </ion-col>\\n            <ion-col size=\\\"auto\\\">\\n              <ion-card-content>\\n                 <ion-list>\\n                  <ion-item>\\n                    <ion-input position=\\\"floating\\\" placeholder=\\\"Nombre\\\" type=\\\"text\\\" [(ngModel)]=\\\"name\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-input position=\\\"floating\\\" placeholder=\\\"Correo electrónico\\\" type=\\\"text\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\n                  </ion-item>\\n                  <ion-item>\\n                    <ion-input position=\\\"floating\\\" placeholder=\\\"Contraseña\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n                  </ion-item>\\n\\n                  <ion-item>\\n                    <ion-input position=\\\"floating\\\" placeholder=\\\"Repite tu contraseña\\\" type=\\\"password\\\" [(ngModel)]=\\\"confirmPassword\\\" (ionChange)=\\\"checkPassword()\\\"></ion-input>\\n                  </ion-item>\\n                </ion-list>\\n              </ion-card-content>\\n            </ion-col>\\n            <ion-col size=\\\"auto\\\">\\n              <div>\\n                <ion-text *ngIf=\\\"password && !passwordMatch\\\" color=\\\"danger\\\" >La constraseña no coincide!</ion-text>\\n                <app-arrow-button class=\\\"arrow-btn\\\" expand=\\\"block\\\" shape=\\\"round\\\" color=\\\"warning\\\" (click)=\\\"signup()\\\"></app-arrow-button>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n\\n\\n\\n</ion-content>\\n\";"]}